# IAM ユーザー管理スクリプト

このリポジトリには、AWS IAM ユーザーの作成および削除を行うための2つのスクリプトが含まれています。

## ファイル一覧

- `add_user.sh`: 新しいIAMユーザーを作成し、ポリシーのアタッチやログインプロファイルの設定を行います。
- `del_user.sh`: 既存のIAMユーザーを削除し、関連付けられたリソースやポリシーをすべてクリーンアップします。

---

## 使い方

### 必要条件

- AWS CLI がインストールされていること。
- AWS CLI の認証情報が設定されていること。

### `add_user.sh`

このスクリプトは、新しいIAMユーザーを作成します。

#### 使用方法

```bash
./add_user.sh <ユーザー名1> <ユーザー名2> ...
```

#### 処理内容

1. 各ユーザーごとに強力なパスワードを生成。
2. AWS IAM ユーザーを作成。
3. `AdministratorAccess` ポリシーをユーザーにアタッチ。
4. ログインプロファイルを作成（パスワードは生成されたものを使用）。

#### 出力例

スクリプト実行後、ユーザー名、生成されたパスワード、アカウントIDが一覧として出力されます。

---

### `del_user.sh`

このスクリプトは、指定したIAMユーザーを削除します。

#### 使用方法

```bash
./del_user.sh <ユーザー名>
```

#### 処理内容

1. ユーザーにアタッチされているポリシーをすべてデタッチ。
2. インラインポリシーをすべて削除。
3. アクセスキー、MFAデバイス、SSH公開鍵など、ユーザーに関連付けられたリソースを削除。
4. IAMユーザーを削除。

#### 注意

削除対象のユーザーが存在しない場合や、必要な権限がない場合はエラーになります。

---

## ライセンス

このスクリプトは、自由に使用・改変することができます。ただし、使用時の結果に関して責任を負いかねます。
